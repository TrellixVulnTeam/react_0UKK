{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\.vscode\\\\react\\\\calculator\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const cals = ['+', '-', '*', '/', '=', 'AC', 'del', '('];\n  const fours = ['+', '-', '*', '/'];\n  const adds = ['+', '-'];\n  const muls = ['*', '/'];\n  const [hisList, setHisList] = useState([]);\n  const [ansList, setAnsList] = useState([]);\n  const [preflag, setPreflag] = useState(false);\n  const [flag, setFlag] = useState(false);\n  const [popupOn, setPopupOn] = useState(false);\n  const [lcnt, setLcnt] = useState(0);\n  const [rcnt, setRcnt] = useState(0);\n  const [last, setLast] = useState('');\n  const [inputs, setInputs] = useState('0');\n\n  const PrintHistory = () => {\n    let l = hisList.length;\n\n    if (l === 0) {\n      document.getElementById(\"popupContent\").innerHTML = `이전 계산식과 결과가 여기에 표시되어 다시 사용할 수 있습니다.`;\n      return;\n    } //let temp = hisList[l-1] + \" = \" + ansList[l-1];\n\n\n    let temp = `<div class='historyButtonWrap'><button class=\"historyButton\" id=\"${l - 1}-0\">${hisList[l - 1]}</button><div id=\"innerText\">=</div><button class=\"historyButton\" id=\"${l - 1}-1\">${ansList[l - 1]}</button></div>`;\n\n    for (let i = l - 2; i >= 0; i--) {\n      temp += `\\n<div class='historyButtonWrap'><button class=\"historyButton\" id=\"${i}-0\">${hisList[i]}</button><div id=\"innerText\">=</div><button class=\"historyButton\" id=\"${i}-1\">${ansList[i]}</button></div>`;\n    }\n\n    document.getElementById(\"popupContent\").innerHTML = temp;\n\n    for (let i = 0; i < l; i++) {\n      temp = document.getElementById(`${i}-0`).onclick = () => setInputs(hisList[i]);\n\n      temp = document.getElementById(`${i}-1`).onclick = () => setInputs(ansList[i]);\n    }\n\n    return;\n  };\n\n  const PopupOn = bool => {\n    setPopupOn(bool);\n  };\n\n  const inputc = c => {\n    if (preflag) setPreflag(false);\n\n    if (c === 'AC') {\n      setInputs('0');\n      setLcnt(0);\n      setRcnt(0);\n      return;\n    }\n\n    if (c === ')') {\n      if (rcnt >= lcnt || cals.indexOf(last) !== -1) return;\n      setRcnt(rcnt + 1);\n    } else if (c === '(') {\n      if (cals.indexOf(last) === -1 && last !== '') return;\n      setLcnt(lcnt + 1);\n    }\n\n    if (c === 'del') {\n      setInputs(inputs.slice(0, -1));\n      if (last === '(') setLcnt(lcnt - 1);else if (last === ')') setRcnt(rcnt - 1);\n      setLast(inputs[inputs.length - 1]);\n    } else if (c === '=') {\n      if (cals.indexOf(last) !== -1 && last !== ')') return;else if (lcnt !== rcnt) return;\n      let temp = eval(inputs).toString();\n      if (temp.length > 14) temp = temp.substr(0, 14);\n\n      if (hisList.length > 4) {\n        setHisList(hisList.slice(1).concat(inputs));\n        setAnsList(ansList.slice(1).concat(temp));\n      } else {\n        setHisList(hisList.concat(inputs));\n        setAnsList(ansList.concat(temp));\n      }\n\n      setInputs(temp);\n      setLast('');\n      setLcnt(0);\n      setRcnt(0);\n      setPreflag(true);\n    } else if (inputs.length > 14) return;else if (inputs === '0') {\n      if (cals.indexOf(c) !== -1 && c !== '-' && c !== '(') return;else if (c === '-') {\n        setInputs(inputs + c);\n        setLast(c);\n      } else {\n        setInputs(c);\n        setLast(c);\n      }\n    } else {\n      if (last === '/' && c === '0') return;else if (adds.indexOf(last) !== -1) {\n        if (fours.indexOf(c) !== -1) {\n          if (muls.indexOf(c) !== -1) {\n            if (flag) {\n              return;\n            }\n          }\n\n          setInputs(inputs.slice(0, -1) + c);\n        } else setInputs(inputs + c);\n      } else if (muls.indexOf(last) !== -1) {\n        if (muls.indexOf(c) !== -1) setInputs(inputs.slice(0, -1) + c);else if (adds.indexOf(c) !== -1) {\n          if (c === '-') setInputs(inputs + c);\n          setLast(c);\n          setFlag(true);\n          return;\n        } else setInputs(inputs + c);\n      } else setInputs(inputs + c);\n      setLast(c);\n      if (flag) setFlag(false);\n    }\n  };\n\n  if (popupOn === true) PrintHistory();\n\n  const PrintPre = () => {\n    if (preflag) {\n      return hisList[hisList.length - 1] + ' =';\n    } else if (ansList.length === 0) return \"JMJ's calculator!\";else {\n      return 'Ans = ' + ansList[ansList.length - 1];\n    }\n  }; //console.log(hisList);\n  //console.log(ansList);\n  //console.log(\"last: \" + last + \"\\tcur: \" + inputs);\n\n\n  return /*#__PURE__*/_jsxDEV(\"calculator\", {\n    children: [/*#__PURE__*/_jsxDEV(\"display\", {\n      children: [/*#__PURE__*/_jsxDEV(\"popup\", {\n        className: popupOn ? \"\" : \"hide\",\n        children: [/*#__PURE__*/_jsxDEV(\"popupOff\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"popupButton\",\n            onClick: () => PopupOn(false),\n            children: \"\\u2605\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"popupContent\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"popupOn\",\n        className: popupOn ? \"hide\" : \"\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"popupButton\",\n          onClick: () => PopupOn(true),\n          children: \"\\u2606\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"answers\", {\n        children: [/*#__PURE__*/_jsxDEV(\"preanswer\", {\n          children: PrintPre()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"answer\", {\n          children: inputs\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"calculatorBody\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonWrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cals\",\n          onClick: () => inputc('('),\n          children: \"(\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cals\",\n          onClick: () => inputc(')'),\n          children: \")\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cals\",\n          onClick: () => inputc('del'),\n          children: \"del\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cals\",\n          onClick: () => inputc('AC'),\n          children: \"AC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonWrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => inputc('7'),\n          children: \"7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => inputc('8'),\n          children: \"8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => inputc('9'),\n          children: \"9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cals\",\n          onClick: () => inputc('/'),\n          children: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonWrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => inputc('4'),\n          children: \"4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => inputc('5'),\n          children: \"5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => inputc('6'),\n          children: \"6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cals\",\n          onClick: () => inputc('*'),\n          children: \"*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonWrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => inputc('1'),\n          children: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => inputc('2'),\n          children: \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => inputc('3'),\n          children: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cals\",\n          onClick: () => inputc('-'),\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonWrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => inputc('0'),\n          children: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => inputc('.'),\n          children: \".\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ans\",\n          onClick: () => inputc('='),\n          children: \"=\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cals\",\n          onClick: () => inputc('+'),\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"r2vGCK4u0QoryDEIyjUACwx/GyA=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/user/.vscode/react/calculator/src/App.js"],"names":["React","useState","App","cals","fours","adds","muls","hisList","setHisList","ansList","setAnsList","preflag","setPreflag","flag","setFlag","popupOn","setPopupOn","lcnt","setLcnt","rcnt","setRcnt","last","setLast","inputs","setInputs","PrintHistory","l","length","document","getElementById","innerHTML","temp","i","onclick","PopupOn","bool","inputc","c","indexOf","slice","eval","toString","substr","concat","PrintPre"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,WAAP;;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAAA;;AAChB,QAAMC,IAAI,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,IAA1B,EAAgC,KAAhC,EAAuC,GAAvC,CAAb;AACA,QAAMC,KAAK,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAAd;AACA,QAAMC,IAAI,GAAG,CAAC,GAAD,EAAM,GAAN,CAAb;AACA,QAAMC,IAAI,GAAG,CAAC,GAAD,EAAM,GAAN,CAAb;AAEA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,KAAD,CAAtC;AAEA,QAAM,CAACY,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACc,OAAD,EAAUC,UAAV,IAAwBf,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACgB,IAAD,EAAOC,OAAP,IAAkBjB,QAAQ,CAAC,CAAD,CAAhC;AACA,QAAM,CAACkB,IAAD,EAAOC,OAAP,IAAkBnB,QAAQ,CAAC,CAAD,CAAhC;AACA,QAAM,CAACoB,IAAD,EAAOC,OAAP,IAAkBrB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACsB,MAAD,EAASC,SAAT,IAAsBvB,QAAQ,CAAC,GAAD,CAApC;;AAEA,QAAMwB,YAAY,GAAG,MAAM;AACzB,QAAIC,CAAC,GAAGnB,OAAO,CAACoB,MAAhB;;AACA,QAAGD,CAAC,KAAK,CAAT,EAAW;AACTE,MAAAA,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,GAAmD,qCAAnD;AACA;AACD,KALwB,CAMzB;;;AAGA,QAAIC,IAAI,GAAI,oEAAmEL,CAAC,GAAC,CAAE,OAAMnB,OAAO,CAACmB,CAAC,GAAC,CAAH,CAAM,yEAAwEA,CAAC,GAAC,CAAE,OAAMjB,OAAO,CAACiB,CAAC,GAAC,CAAH,CAAM,iBAArM;;AACA,SAAI,IAAIM,CAAC,GAAGN,CAAC,GAAG,CAAhB,EAAmBM,CAAC,IAAI,CAAxB,EAA4BA,CAAC,EAA7B,EAAgC;AAC5BD,MAAAA,IAAI,IAAK,sEAAqEC,CAAE,OAAMzB,OAAO,CAACyB,CAAD,CAAI,yEAAwEA,CAAE,OAAMvB,OAAO,CAACuB,CAAD,CAAI,iBAA5L;AACH;;AACDJ,IAAAA,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCC,SAAxC,GAAkDC,IAAlD;;AAEA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGN,CAAnB,EAAsBM,CAAC,EAAvB,EAA0B;AACxBD,MAAAA,IAAI,GAAGH,QAAQ,CAACC,cAAT,CAAyB,GAAEG,CAAE,IAA7B,EAAkCC,OAAlC,GAA4C,MAAMT,SAAS,CAACjB,OAAO,CAACyB,CAAD,CAAR,CAAlE;;AACAD,MAAAA,IAAI,GAAGH,QAAQ,CAACC,cAAT,CAAyB,GAAEG,CAAE,IAA7B,EAAkCC,OAAlC,GAA4C,MAAMT,SAAS,CAACf,OAAO,CAACuB,CAAD,CAAR,CAAlE;AACD;;AAED;AACD,GArBD;;AAuBA,QAAME,OAAO,GAAIC,IAAD,IAAU;AACxBnB,IAAAA,UAAU,CAACmB,IAAD,CAAV;AACD,GAFD;;AAIA,QAAMC,MAAM,GAAIC,CAAD,IAAO;AACpB,QAAG1B,OAAH,EAAYC,UAAU,CAAC,KAAD,CAAV;;AAEZ,QAAGyB,CAAC,KAAK,IAAT,EAAc;AACZb,MAAAA,SAAS,CAAC,GAAD,CAAT;AACAN,MAAAA,OAAO,CAAC,CAAD,CAAP;AACAE,MAAAA,OAAO,CAAC,CAAD,CAAP;AACA;AACD;;AAED,QAAGiB,CAAC,KAAK,GAAT,EAAa;AACX,UAAGlB,IAAI,IAAIF,IAAR,IAAgBd,IAAI,CAACmC,OAAL,CAAajB,IAAb,MAAuB,CAAC,CAA3C,EAA8C;AAC9CD,MAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACD,KAHD,MAIK,IAAGkB,CAAC,KAAK,GAAT,EAAa;AAChB,UAAGlC,IAAI,CAACmC,OAAL,CAAajB,IAAb,MAAuB,CAAC,CAAxB,IAA6BA,IAAI,KAAK,EAAzC,EAA6C;AAC7CH,MAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACD;;AAED,QAAGoB,CAAC,KAAK,KAAT,EAAe;AACbb,MAAAA,SAAS,CAACD,MAAM,CAACgB,KAAP,CAAa,CAAb,EAAgB,CAAC,CAAjB,CAAD,CAAT;AACA,UAAGlB,IAAI,KAAK,GAAZ,EAAiBH,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP,CAAjB,KACK,IAAGI,IAAI,KAAK,GAAZ,EAAiBD,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACtBG,MAAAA,OAAO,CAACC,MAAM,CAACA,MAAM,CAACI,MAAP,GAAgB,CAAjB,CAAP,CAAP;AACD,KALD,MAMK,IAAGU,CAAC,KAAK,GAAT,EAAa;AAChB,UAAGlC,IAAI,CAACmC,OAAL,CAAajB,IAAb,MAAuB,CAAC,CAAxB,IAA6BA,IAAI,KAAK,GAAzC,EAA8C,OAA9C,KACK,IAAGJ,IAAI,KAAKE,IAAZ,EAAkB;AACvB,UAAIY,IAAI,GAAGS,IAAI,CAACjB,MAAD,CAAJ,CAAakB,QAAb,EAAX;AAEA,UAAGV,IAAI,CAACJ,MAAL,GAAc,EAAjB,EAAqBI,IAAI,GAAGA,IAAI,CAACW,MAAL,CAAY,CAAZ,EAAe,EAAf,CAAP;;AAErB,UAAGnC,OAAO,CAACoB,MAAR,GAAiB,CAApB,EAAsB;AACpBnB,QAAAA,UAAU,CAACD,OAAO,CAACgC,KAAR,CAAc,CAAd,EAAiBI,MAAjB,CAAwBpB,MAAxB,CAAD,CAAV;AACAb,QAAAA,UAAU,CAACD,OAAO,CAAC8B,KAAR,CAAc,CAAd,EAAiBI,MAAjB,CAAwBZ,IAAxB,CAAD,CAAV;AACD,OAHD,MAII;AACFvB,QAAAA,UAAU,CAACD,OAAO,CAACoC,MAAR,CAAepB,MAAf,CAAD,CAAV;AACAb,QAAAA,UAAU,CAACD,OAAO,CAACkC,MAAR,CAAeZ,IAAf,CAAD,CAAV;AACD;;AACDP,MAAAA,SAAS,CAACO,IAAD,CAAT;AACAT,MAAAA,OAAO,CAAC,EAAD,CAAP;AACAJ,MAAAA,OAAO,CAAC,CAAD,CAAP;AACAE,MAAAA,OAAO,CAAC,CAAD,CAAP;AACAR,MAAAA,UAAU,CAAC,IAAD,CAAV;AACD,KApBI,MAqBA,IAAGW,MAAM,CAACI,MAAP,GAAgB,EAAnB,EAAuB,OAAvB,KACA,IAAGJ,MAAM,KAAK,GAAd,EAAkB;AACrB,UAAGpB,IAAI,CAACmC,OAAL,CAAaD,CAAb,MAAoB,CAAC,CAArB,IAA0BA,CAAC,KAAK,GAAhC,IAAuCA,CAAC,KAAK,GAAhD,EAAqD,OAArD,KACK,IAAGA,CAAC,KAAK,GAAT,EAAa;AAChBb,QAAAA,SAAS,CAACD,MAAM,GAAGc,CAAV,CAAT;AACAf,QAAAA,OAAO,CAACe,CAAD,CAAP;AACD,OAHI,MAID;AACFb,QAAAA,SAAS,CAACa,CAAD,CAAT;AACAf,QAAAA,OAAO,CAACe,CAAD,CAAP;AACD;AACF,KAVI,MAWD;AACF,UAAGhB,IAAI,KAAK,GAAT,IAAgBgB,CAAC,KAAK,GAAzB,EAA8B,OAA9B,KACK,IAAGhC,IAAI,CAACiC,OAAL,CAAajB,IAAb,MAAuB,CAAC,CAA3B,EAA6B;AAChC,YAAGjB,KAAK,CAACkC,OAAN,CAAcD,CAAd,MAAqB,CAAC,CAAzB,EAA2B;AACzB,cAAG/B,IAAI,CAACgC,OAAL,CAAaD,CAAb,MAAoB,CAAC,CAAxB,EAA0B;AACxB,gBAAGxB,IAAH,EAAQ;AACN;AACD;AACF;;AACDW,UAAAA,SAAS,CAACD,MAAM,CAACgB,KAAP,CAAa,CAAb,EAAgB,CAAC,CAAjB,IAAsBF,CAAvB,CAAT;AACD,SAPD,MAQKb,SAAS,CAACD,MAAM,GAAGc,CAAV,CAAT;AACN,OAVI,MAWA,IAAG/B,IAAI,CAACgC,OAAL,CAAajB,IAAb,MAAuB,CAAC,CAA3B,EAA6B;AAChC,YAAGf,IAAI,CAACgC,OAAL,CAAaD,CAAb,MAAoB,CAAC,CAAxB,EAA2Bb,SAAS,CAACD,MAAM,CAACgB,KAAP,CAAa,CAAb,EAAgB,CAAC,CAAjB,IAAsBF,CAAvB,CAAT,CAA3B,KACK,IAAGhC,IAAI,CAACiC,OAAL,CAAaD,CAAb,MAAoB,CAAC,CAAxB,EAA0B;AAC7B,cAAGA,CAAC,KAAK,GAAT,EAAcb,SAAS,CAACD,MAAM,GAAGc,CAAV,CAAT;AACdf,UAAAA,OAAO,CAACe,CAAD,CAAP;AACAvB,UAAAA,OAAO,CAAC,IAAD,CAAP;AACA;AACD,SALI,MAMAU,SAAS,CAACD,MAAM,GAAGc,CAAV,CAAT;AACN,OATI,MAUAb,SAAS,CAACD,MAAM,GAAGc,CAAV,CAAT;AACLf,MAAAA,OAAO,CAACe,CAAD,CAAP;AACA,UAAGxB,IAAH,EAASC,OAAO,CAAC,KAAD,CAAP;AACV;AACF,GArFD;;AAuFA,MAAGC,OAAO,KAAK,IAAf,EAAqBU,YAAY;;AAEjC,QAAMmB,QAAQ,GAAG,MAAM;AACrB,QAAGjC,OAAH,EAAW;AACT,aAAOJ,OAAO,CAACA,OAAO,CAACoB,MAAR,GAAe,CAAhB,CAAP,GAA4B,IAAnC;AACD,KAFD,MAGK,IAAGlB,OAAO,CAACkB,MAAR,KAAmB,CAAtB,EAAyB,OAAO,mBAAP,CAAzB,KACD;AACF,aAAO,WAAWlB,OAAO,CAACA,OAAO,CAACkB,MAAR,GAAe,CAAhB,CAAzB;AACD;AACF,GARD,CArIgB,CA8IhB;AACA;AACA;;;AAEA,sBACE;AAAA,4BACE;AAAA,8BACE;AAAO,QAAA,SAAS,EAAEZ,OAAO,GAAG,EAAH,GAAQ,MAAjC;AAAA,gCACE;AAAA,iCACE;AAAQ,YAAA,EAAE,EAAC,aAAX;AAAyB,YAAA,OAAO,EAAE,MAAImB,OAAO,CAAC,KAAD,CAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAOE;AAAK,QAAA,EAAE,EAAC,SAAR;AAAkB,QAAA,SAAS,EAAEnB,OAAO,GAAG,MAAH,GAAY,EAAhD;AAAA,+BACE;AAAQ,UAAA,EAAE,EAAC,aAAX;AAAyB,UAAA,OAAO,EAAE,MAAImB,OAAO,CAAC,IAAD,CAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAPF,eAUE;AAAA,gCACE;AAAA,oBACGU,QAAQ;AADX;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAA,oBACGrB;AADH;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cAVF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAoBE;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE;AAAQ,UAAA,SAAS,EAAC,MAAlB;AAAyB,UAAA,OAAO,EAAE,MAAIa,MAAM,CAAC,GAAD,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAQ,UAAA,SAAS,EAAC,MAAlB;AAAyB,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAQ,UAAA,SAAS,EAAC,MAAlB;AAAyB,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,KAAD,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAQ,UAAA,SAAS,EAAC,MAAlB;AAAyB,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,IAAD,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAOE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE;AAAQ,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAQ,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAQ,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAQ,UAAA,SAAS,EAAC,MAAlB;AAAyB,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF,eAaE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE;AAAQ,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAQ,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAQ,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAQ,UAAA,SAAS,EAAC,MAAlB;AAAyB,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cAbF,eAmBE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE;AAAQ,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAQ,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAQ,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAQ,UAAA,SAAS,EAAC,MAAlB;AAAyB,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cAnBF,eAyBE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE;AAAQ,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAQ,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAQ,UAAA,SAAS,EAAC,KAAlB;AAAwB,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE;AAAQ,UAAA,SAAS,EAAC,MAAlB;AAAyB,UAAA,OAAO,EAAE,MAAIA,MAAM,CAAC,GAAD,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cAzBF;AAAA;AAAA;AAAA;AAAA;AAAA,YApBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAuDD,CAzMD;;GAAMlC,G;;KAAAA,G;AA2MN,eAAeA,GAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./App.css\"\r\n\r\nconst App = () => {\r\n  const cals = ['+', '-', '*', '/', '=', 'AC', 'del', '('];\r\n  const fours = ['+', '-', '*', '/'];\r\n  const adds = ['+', '-'];\r\n  const muls = ['*', '/'];\r\n\r\n  const [hisList, setHisList] = useState([]);\r\n  const [ansList, setAnsList] = useState([]);\r\n  const [preflag, setPreflag] = useState(false);\r\n\r\n  const [flag, setFlag] = useState(false);\r\n  const [popupOn, setPopupOn] = useState(false);\r\n  const [lcnt, setLcnt] = useState(0);\r\n  const [rcnt, setRcnt] = useState(0);\r\n  const [last, setLast] = useState('');\r\n  const [inputs, setInputs] = useState('0');\r\n\r\n  const PrintHistory = () => {\r\n    let l = hisList.length;\r\n    if(l === 0){\r\n      document.getElementById(\"popupContent\").innerHTML=`이전 계산식과 결과가 여기에 표시되어 다시 사용할 수 있습니다.`;\r\n      return;\r\n    }\r\n    //let temp = hisList[l-1] + \" = \" + ansList[l-1];\r\n\r\n    \r\n    let temp = `<div class='historyButtonWrap'><button class=\"historyButton\" id=\"${l-1}-0\">${hisList[l-1]}</button><div id=\"innerText\">=</div><button class=\"historyButton\" id=\"${l-1}-1\">${ansList[l-1]}</button></div>`;\r\n    for(let i = l - 2; i >= 0 ; i--){\r\n        temp += `\\n<div class='historyButtonWrap'><button class=\"historyButton\" id=\"${i}-0\">${hisList[i]}</button><div id=\"innerText\">=</div><button class=\"historyButton\" id=\"${i}-1\">${ansList[i]}</button></div>`;\r\n    }\r\n    document.getElementById(\"popupContent\").innerHTML=temp;\r\n\r\n    for(let i = 0; i < l; i++){\r\n      temp = document.getElementById(`${i}-0`).onclick = () => setInputs(hisList[i]);\r\n      temp = document.getElementById(`${i}-1`).onclick = () => setInputs(ansList[i]);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  const PopupOn = (bool) => {\r\n    setPopupOn(bool);\r\n  }\r\n\r\n  const inputc = (c) => {\r\n    if(preflag) setPreflag(false);\r\n\r\n    if(c === 'AC'){\r\n      setInputs('0');\r\n      setLcnt(0);\r\n      setRcnt(0);\r\n      return;\r\n    }\r\n\r\n    if(c === ')'){\r\n      if(rcnt >= lcnt || cals.indexOf(last) !== -1) return;\r\n      setRcnt(rcnt + 1);\r\n    }\r\n    else if(c === '('){\r\n      if(cals.indexOf(last) === -1 && last !== '') return;\r\n      setLcnt(lcnt + 1);\r\n    }\r\n\r\n    if(c === 'del'){\r\n      setInputs(inputs.slice(0, -1));\r\n      if(last === '(') setLcnt(lcnt - 1);\r\n      else if(last === ')') setRcnt(rcnt - 1);\r\n      setLast(inputs[inputs.length - 1]);\r\n    }\r\n    else if(c === '='){\r\n      if(cals.indexOf(last) !== -1 && last !== ')') return;\r\n      else if(lcnt !== rcnt) return;\r\n      let temp = eval(inputs).toString();\r\n      \r\n      if(temp.length > 14) temp = temp.substr(0, 14);\r\n      \r\n      if(hisList.length > 4){\r\n        setHisList(hisList.slice(1).concat(inputs));\r\n        setAnsList(ansList.slice(1).concat(temp));\r\n      }\r\n      else{\r\n        setHisList(hisList.concat(inputs));\r\n        setAnsList(ansList.concat(temp));\r\n      }\r\n      setInputs(temp);\r\n      setLast('');\r\n      setLcnt(0);\r\n      setRcnt(0);\r\n      setPreflag(true);\r\n    }\r\n    else if(inputs.length > 14) return;\r\n    else if(inputs === '0'){\r\n      if(cals.indexOf(c) !== -1 && c !== '-' && c !== '(') return;\r\n      else if(c === '-'){\r\n        setInputs(inputs + c);\r\n        setLast(c);\r\n      }\r\n      else{\r\n        setInputs(c);\r\n        setLast(c);\r\n      }\r\n    }\r\n    else{\r\n      if(last === '/' && c === '0') return;\r\n      else if(adds.indexOf(last) !== -1){\r\n        if(fours.indexOf(c) !== -1){\r\n          if(muls.indexOf(c) !== -1){\r\n            if(flag){\r\n              return;\r\n            }\r\n          }\r\n          setInputs(inputs.slice(0, -1) + c);\r\n        }\r\n        else setInputs(inputs + c);\r\n      }\r\n      else if(muls.indexOf(last) !== -1){\r\n        if(muls.indexOf(c) !== -1) setInputs(inputs.slice(0, -1) + c);\r\n        else if(adds.indexOf(c) !== -1){\r\n          if(c === '-') setInputs(inputs + c);\r\n          setLast(c);\r\n          setFlag(true);\r\n          return;\r\n        }\r\n        else setInputs(inputs + c);\r\n      }\r\n      else setInputs(inputs + c);\r\n      setLast(c);\r\n      if(flag) setFlag(false);\r\n    }\r\n  };\r\n\r\n  if(popupOn === true) PrintHistory();\r\n  \r\n  const PrintPre = () => {\r\n    if(preflag){\r\n      return hisList[hisList.length-1] + ' =';\r\n    }\r\n    else if(ansList.length === 0) return \"JMJ's calculator!\"\r\n    else{\r\n      return 'Ans = ' + ansList[ansList.length-1];\r\n    }\r\n  }\r\n  //console.log(hisList);\r\n  //console.log(ansList);\r\n  //console.log(\"last: \" + last + \"\\tcur: \" + inputs);\r\n\r\n  return (\r\n    <calculator>\r\n      <display>\r\n        <popup className={popupOn ? \"\" : \"hide\"}>\r\n          <popupOff>\r\n            <button id=\"popupButton\" onClick={()=>PopupOn(false)}>★</button>\r\n          </popupOff>\r\n          <popupContent/>\r\n        </popup>\r\n        <div id=\"popupOn\" className={popupOn ? \"hide\" : \"\"}>\r\n          <button id=\"popupButton\" onClick={()=>PopupOn(true)}>☆</button>\r\n        </div>\r\n        <answers>\r\n          <preanswer>\r\n            {PrintPre()}\r\n          </preanswer>\r\n          <answer>\r\n            {inputs}\r\n          </answer>\r\n        </answers>\r\n      </display>\r\n      <calculatorBody>\r\n        <div className=\"buttonWrap\">\r\n          <button className=\"cals\" onClick={()=>inputc('(')}>(</button>\r\n          <button className=\"cals\" onClick={()=>inputc(')')}>)</button>\r\n          <button className=\"cals\" onClick={()=>inputc('del')}>del</button>\r\n          <button className=\"cals\" onClick={()=>inputc('AC')}>AC</button>\r\n        </div>\r\n        <div className=\"buttonWrap\">\r\n          <button onClick={()=>inputc('7')}>7</button>\r\n          <button onClick={()=>inputc('8')}>8</button>\r\n          <button onClick={()=>inputc('9')}>9</button>\r\n          <button className=\"cals\" onClick={()=>inputc('/')}>/</button>\r\n        </div>\r\n        <div className=\"buttonWrap\">\r\n          <button onClick={()=>inputc('4')}>4</button>\r\n          <button onClick={()=>inputc('5')}>5</button>\r\n          <button onClick={()=>inputc('6')}>6</button>\r\n          <button className=\"cals\" onClick={()=>inputc('*')}>*</button>\r\n        </div>\r\n        <div className=\"buttonWrap\">\r\n          <button onClick={()=>inputc('1')}>1</button>\r\n          <button onClick={()=>inputc('2')}>2</button>\r\n          <button onClick={()=>inputc('3')}>3</button>\r\n          <button className=\"cals\" onClick={()=>inputc('-')}>-</button>\r\n        </div>\r\n        <div className=\"buttonWrap\">\r\n          <button onClick={()=>inputc('0')}>0</button>\r\n          <button onClick={()=>inputc('.')}>.</button>\r\n          <button className=\"ans\" onClick={()=>inputc('=')}>=</button>\r\n          <button className=\"cals\" onClick={()=>inputc('+')}>+</button>\r\n        </div>\r\n      </calculatorBody>\r\n    </calculator>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}