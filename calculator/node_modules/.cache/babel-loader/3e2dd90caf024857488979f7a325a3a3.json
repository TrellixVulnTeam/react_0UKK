{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kaist\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\react\\\\calculator\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [hisList, setHisList] = useState([]);\n  const [ansList, setAnsList] = useState([]);\n  const [preflag, setPreflag] = useState(false);\n  const [popupOn, setPopupOn] = useState(false);\n  const [inputs, setInputs] = useState('0'); // used in inputc() only\n\n  const cals = ['+', '-', '*', '/', '=', 'AC', 'del', '('];\n  const fours = ['+', '-', '*', '/'];\n  const adds = ['+', '-'];\n  const muls = ['*', '/'];\n  const [flag, setFlag] = useState(false);\n  const [lcnt, setLcnt] = useState(0);\n  const [rcnt, setRcnt] = useState(0);\n  const [last, setLast] = useState(''); // just for avoiding error of eval()\n\n  const inputc = c => {\n    if (preflag) setPreflag(false);\n\n    if (c === 'AC') {\n      setInputs('0');\n      setLcnt(0);\n      setRcnt(0);\n      return;\n    }\n\n    if (c === ')') {\n      if (rcnt >= lcnt || cals.indexOf(last) !== -1) return;\n      setRcnt(rcnt + 1);\n    } else if (c === '(') {\n      if (cals.indexOf(last) === -1 && last !== '') return;\n      setLcnt(lcnt + 1);\n    }\n\n    if (c === 'del') {\n      setInputs(inputs.slice(0, -1));\n      if (last === '(') setLcnt(lcnt - 1);else if (last === ')') setRcnt(rcnt - 1);\n      setLast(inputs[inputs.length - 1]);\n    } else if (c === '=') {\n      if (cals.indexOf(last) !== -1 && last !== ')') return;else if (lcnt !== rcnt) return;\n      let temp = eval(inputs).toString();\n      if (temp.length > 14) temp = temp.substr(0, 14);\n\n      if (hisList.length > 4) {\n        setHisList(hisList.slice(1).concat(inputs));\n        setAnsList(ansList.slice(1).concat(temp));\n      } else {\n        setHisList(hisList.concat(inputs));\n        setAnsList(ansList.concat(temp));\n      }\n\n      setInputs(temp);\n      setLast('');\n      setLcnt(0);\n      setRcnt(0);\n      setPreflag(true);\n    } else if (inputs.length > 14) return;else if (inputs === '0') {\n      if (cals.indexOf(c) !== -1 && c !== '-' && c !== '(') return;else if (c === '-') {\n        setInputs(inputs + c);\n        setLast(c);\n      } else {\n        setInputs(c);\n        setLast(c);\n      }\n    } else {\n      if (last === '/' && c === '0') return;else if (adds.indexOf(last) !== -1) {\n        if (fours.indexOf(c) !== -1) {\n          if (muls.indexOf(c) !== -1) {\n            if (flag) {\n              return;\n            }\n          }\n\n          setInputs(inputs.slice(0, -1) + c);\n        } else setInputs(inputs + c);\n      } else if (muls.indexOf(last) !== -1) {\n        if (muls.indexOf(c) !== -1) setInputs(inputs.slice(0, -1) + c);else if (adds.indexOf(c) !== -1) {\n          if (c === '-') setInputs(inputs + c);\n          setLast(c);\n          setFlag(true);\n          return;\n        } else setInputs(inputs + c);\n      } else setInputs(inputs + c);\n      setLast(c);\n      if (flag) setFlag(false);\n    }\n  };\n\n  const ButtonWrapper = probs => {\n    let buttons = [];\n    const lst = probs.lst,\n          mrk = probs.mrk;\n\n    for (let i = 0; i < lst.length; i++) buttons.push( /*#__PURE__*/_jsxDEV(\"button\", {\n      className: mrk[i],\n      onClick: () => inputc(lst[i]),\n      children: lst[i]\n    }, lst[i], false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 54\n    }, this));\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buttonWrap\",\n      children: buttons\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 12\n    }, this);\n  };\n\n  const PrintHistory = () => {\n    let l = hisList.length;\n    if (l === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"popupContent\",\n      children: \"\\uC774\\uC804 \\uACC4\\uC0B0\\uC2DD\\uACFC \\uACB0\\uACFC\\uAC00 \\uC5EC\\uAE30\\uC5D0 \\uD45C\\uC2DC\\uB418\\uC5B4 \\uB2E4\\uC2DC \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 24\n    }, this);\n    const phistory = [];\n\n    for (let i = l - 1; i >= 0; i--) {\n      let temp = [];\n      temp.push( /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"historyButton\",\n        onClick: () => setInputs(hisList[i]),\n        children: hisList[i]\n      }, 'historyButton-' + i + '-0', false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this));\n      temp.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"innerText\",\n        children: \"=\"\n      }, 'innerText-' + i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this));\n      temp.push( /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"historyButton\",\n        onClick: () => setInputs(ansList[i]),\n        children: ansList[i]\n      }, 'historyButton-' + i + '-1', false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this));\n      phistory.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"historyButtonWrap\",\n        children: temp\n      }, 'historyButtonWrap-' + i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }, this));\n    }\n\n    return phistory;\n  };\n\n  const PrintPre = () => {\n    if (preflag) return hisList[hisList.length - 1] + ' =';else if (ansList.length === 0) return \"JMJ's calculator!\";else return 'Ans = ' + ansList[ansList.length - 1];\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"calculator\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"display\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"popup\",\n        className: popupOn ? \"\" : \"hide\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"popupOff\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"popupButton\",\n            onClick: () => setPopupOn(false),\n            children: \"\\u2605\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PrintHistory, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"popupOn\",\n        className: popupOn ? \"hide\" : \"\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"popupButton\",\n          onClick: () => setPopupOn(true),\n          children: \"\\u2606\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"answers\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"preanswer\",\n          children: PrintPre()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"answer\",\n          children: inputs\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"calculatorBody\",\n      children: [/*#__PURE__*/_jsxDEV(ButtonWrapper, {\n        lst: ['(', ')', 'del', 'AC'],\n        mrk: ['cals', 'cals', 'cals', 'cals']\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonWrapper, {\n        lst: ['7', '8', '9', '/'],\n        mrk: ['', '', '', 'cals']\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonWrapper, {\n        lst: ['4', '5', '6', '*'],\n        mrk: ['', '', '', 'cals']\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonWrapper, {\n        lst: ['1', '2', '3', '-'],\n        mrk: ['', '', '', 'cals']\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonWrapper, {\n        lst: ['0', '.', '=', '+'],\n        mrk: ['', '', 'ans', 'cals']\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"IGNSuJ2Yc1ax8Tev3S5zpueYppw=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/kaist/OneDrive/바탕 화면/react/calculator/src/App.js"],"names":["React","useState","App","hisList","setHisList","ansList","setAnsList","preflag","setPreflag","popupOn","setPopupOn","inputs","setInputs","cals","fours","adds","muls","flag","setFlag","lcnt","setLcnt","rcnt","setRcnt","last","setLast","inputc","c","indexOf","slice","length","temp","eval","toString","substr","concat","ButtonWrapper","probs","buttons","lst","mrk","i","push","PrintHistory","l","phistory","PrintPre"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./App.css\"\r\n\r\nconst App = () => {\r\n  const [hisList, setHisList] = useState([]);\r\n  const [ansList, setAnsList] = useState([]);\r\n  const [preflag, setPreflag] = useState(false);\r\n  const [popupOn, setPopupOn] = useState(false);\r\n  const [inputs, setInputs] = useState('0');\r\n\r\n  // used in inputc() only\r\n  const cals = ['+', '-', '*', '/', '=', 'AC', 'del', '('];\r\n  const fours = ['+', '-', '*', '/'];\r\n  const adds = ['+', '-'];\r\n  const muls = ['*', '/'];\r\n  const [flag, setFlag] = useState(false);\r\n  const [lcnt, setLcnt] = useState(0);\r\n  const [rcnt, setRcnt] = useState(0);\r\n  const [last, setLast] = useState('');\r\n  \r\n  // just for avoiding error of eval()\r\n  const inputc = (c) => {\r\n    if(preflag) setPreflag(false);\r\n\r\n    if(c === 'AC'){\r\n      setInputs('0');\r\n      setLcnt(0);\r\n      setRcnt(0);\r\n      return;\r\n    }\r\n\r\n    if(c === ')'){\r\n      if(rcnt >= lcnt || cals.indexOf(last) !== -1) return;\r\n      setRcnt(rcnt + 1);\r\n    }\r\n    else if(c === '('){\r\n      if(cals.indexOf(last) === -1 && last !== '') return;\r\n      setLcnt(lcnt + 1);\r\n    }\r\n\r\n    if(c === 'del'){\r\n      setInputs(inputs.slice(0, -1));\r\n      if(last === '(') setLcnt(lcnt - 1);\r\n      else if(last === ')') setRcnt(rcnt - 1);\r\n      setLast(inputs[inputs.length - 1]);\r\n    }\r\n    else if(c === '='){\r\n      if(cals.indexOf(last) !== -1 && last !== ')') return;\r\n      else if(lcnt !== rcnt) return;\r\n      let temp = eval(inputs).toString();\r\n      \r\n      if(temp.length > 14) temp = temp.substr(0, 14);\r\n      \r\n      if(hisList.length > 4){\r\n        setHisList(hisList.slice(1).concat(inputs));\r\n        setAnsList(ansList.slice(1).concat(temp));\r\n      }\r\n      else{\r\n        setHisList(hisList.concat(inputs));\r\n        setAnsList(ansList.concat(temp));\r\n      }\r\n      setInputs(temp);\r\n      setLast('');\r\n      setLcnt(0);\r\n      setRcnt(0);\r\n      setPreflag(true);\r\n    }\r\n    else if(inputs.length > 14) return;\r\n    else if(inputs === '0'){\r\n      if(cals.indexOf(c) !== -1 && c !== '-' && c !== '(') return;\r\n      else if(c === '-'){\r\n        setInputs(inputs + c);\r\n        setLast(c);\r\n      }\r\n      else{\r\n        setInputs(c);\r\n        setLast(c);\r\n      }\r\n    }\r\n    else{\r\n      if(last === '/' && c === '0') return;\r\n      else if(adds.indexOf(last) !== -1){\r\n        if(fours.indexOf(c) !== -1){\r\n          if(muls.indexOf(c) !== -1){\r\n            if(flag){\r\n              return;\r\n            }\r\n          }\r\n          setInputs(inputs.slice(0, -1) + c);\r\n        }\r\n        else setInputs(inputs + c);\r\n      }\r\n      else if(muls.indexOf(last) !== -1){\r\n        if(muls.indexOf(c) !== -1) setInputs(inputs.slice(0, -1) + c);\r\n        else if(adds.indexOf(c) !== -1){\r\n          if(c === '-') setInputs(inputs + c);\r\n          setLast(c);\r\n          setFlag(true);\r\n          return;\r\n        }\r\n        else setInputs(inputs + c);\r\n      }\r\n      else setInputs(inputs + c);\r\n      setLast(c);\r\n      if(flag) setFlag(false);\r\n    }\r\n  };\r\n\r\n  const ButtonWrapper = probs => {\r\n    let buttons =[];\r\n    const lst = probs.lst, mrk = probs.mrk;\r\n    for(let i = 0; i < lst.length; i++) buttons.push(<button className={mrk[i]} onClick={()=>inputc(lst[i])} key={lst[i]}>{lst[i]}</button>);\r\n    return <div className=\"buttonWrap\">{buttons}</div>;\r\n  };\r\n\r\n  const PrintHistory = () => {\r\n    let l = hisList.length;\r\n    if(l === 0) return <div id=\"popupContent\">이전 계산식과 결과가 여기에 표시되어 다시 사용할 수 있습니다.</div>;\r\n    \r\n    const phistory = [];\r\n    for(let i = l -1; i >= 0; i--){\r\n      let temp = [];\r\n      temp.push(<button className=\"historyButton\" key={'historyButton-'+i+'-0'} onClick={() => setInputs(hisList[i])}>{hisList[i]}</button>);\r\n      temp.push(<div className=\"innerText\" key={'innerText-'+i}>=</div>);\r\n      temp.push(<button className=\"historyButton\" key={'historyButton-'+i+'-1'} onClick={() => setInputs(ansList[i])}>{ansList[i]}</button>);\r\n      phistory.push(<div className='historyButtonWrap' key={'historyButtonWrap-'+i}>{temp}</div>);\r\n    }\r\n    return phistory;\r\n  }\r\n\r\n  const PrintPre = () => {\r\n    if(preflag) return hisList[hisList.length-1] + ' =';\r\n    else if(ansList.length === 0) return \"JMJ's calculator!\"\r\n    else return 'Ans = ' + ansList[ansList.length-1];\r\n  }\r\n\r\n  return (\r\n    <div id=\"calculator\">\r\n      <div id=\"display\">\r\n        <div id=\"popup\" className={popupOn ? \"\" : \"hide\"}>\r\n          <div id=\"popupOff\">\r\n            <button id=\"popupButton\" onClick={()=>setPopupOn(false)}>★</button>\r\n          </div>\r\n          <PrintHistory/>\r\n        </div>\r\n        <div id=\"popupOn\" className={popupOn ? \"hide\" : \"\"}>\r\n          <button id=\"popupButton\" onClick={()=>setPopupOn(true)}>☆</button>\r\n        </div>\r\n        <div id=\"answers\">\r\n          <div id=\"preanswer\">{PrintPre()}</div>\r\n          <div id=\"answer\">{inputs}</div>\r\n        </div>\r\n      </div>\r\n      <div id=\"calculatorBody\">\r\n        <ButtonWrapper lst={['(', ')', 'del', 'AC']} mrk={['cals', 'cals', 'cals', 'cals']}/>\r\n        <ButtonWrapper lst={['7', '8', '9', '/']} mrk={['', '', '', 'cals']}/>\r\n        <ButtonWrapper lst={['4', '5', '6', '*']} mrk={['', '', '', 'cals']}/>\r\n        <ButtonWrapper lst={['1', '2', '3', '-']} mrk={['', '', '', 'cals']}/>\r\n        <ButtonWrapper lst={['0', '.', '=', '+']} mrk={['', '', 'ans', 'cals']}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}